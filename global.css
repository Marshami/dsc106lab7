/* Reset page margins and ensure height */
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
  }
  
  /* Main container */
  body {
    font: 100%/1.5 system-ui, sans-serif;
    display: flex;
    flex-flow: column;
    max-width: 80em;
    margin: auto;
    padding: 1em;
    box-sizing: border-box;
  }
  
  /* Title + slider/time row */
  header {
    display: flex;
    gap: 1em;
    align-items: baseline;
  }
  
  /* The map container.  flex: 1 so it fills leftover vertical space */
  #map {
    position: relative;
    flex: 1;
    width: 100%;
    margin-top: 1em;
    border: 1px solid #ccc; /* for clarity */
  }
  
  /* Absolutely position the SVG overlay so it follows map panning */
  #map svg {
    position: absolute;
    top: 0; left: 0; bottom: 0; right: 0;
    pointer-events: none; /* let user drag the map */
  }
  
  /* If slider == -1 => show (any time) text, otherwise show time */
  #any-time {
    color: gray;
    font-style: italic;
  }
  
  /* Let circles receive hover/tooltip events despite pointer-events none on svg */
  circle {
    pointer-events: auto;
  }
  
  /* Legend styling */
  .legend {
    display: flex;
    gap: 1.5em;
    margin-top: 1em;
    align-items: center;
    font-size: 0.9rem;
  }
  .legend > div {
    display: flex;
    gap: 0.5em;
    align-items: center;
  }
  .swatch {
    display: inline-block;
    width: 1em; height: 1em;
    border-radius: 50%;
    border: 1px solid #ccc;
  }
  
  /* Match our circle color categories */
  .swatch.departures { background-color: steelblue; }
  .swatch.balanced   { background-color: purple;   }
  .swatch.arrivals   { background-color: orange;   }  